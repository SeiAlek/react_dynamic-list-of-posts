{"version":3,"sources":["api/getData.tsx","components/Button/Button.tsx","components/Comments/CommentItem.tsx","components/Comments/CommentList.tsx","components/PostList/PostItem.tsx","components/PostList/PostList.tsx","components/Search/Search.tsx","App.tsx","index.tsx"],"names":["getData","url","a","fetch","response","json","preparePosts","Promise","all","posts","users","comments","preparedPosts","map","post","user","find","id","userId","filter","comment","postId","Button","text","className","handleClick","type","onClick","CommentItem","name","email","body","CommentList","key","PostItem","title","username","PostList","Search","state","searchQuery","handleInputChange","e","setState","target","value","debounce","f","delay","timerId","clearTimeout","setTimeout","sendQuery","setSearchQuery","props","wrapper","this","placeholder","onChange","Component","App","isLoading","isLoaded","hasError","loadPosts","data","query","trim","toLocaleLowerCase","replace","searchPosts","includes","searchedPosts","max","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.256e4da2.chunk.js","sourcesContent":["import { Post, User, Comment } from '../components/Interface';\n\nconst API_URL = './api';\n\nconst getData = async (url: string) => {\n  const response = await fetch(url);\n  const json = await response.json();\n\n  return json;\n};\n\nexport const preparePosts = async () => {\n  const [posts, users, comments] = await Promise.all([\n    getData(`${API_URL}/posts.json`),\n    getData(`${API_URL}/users.json`),\n    getData(`${API_URL}/comments.json`),\n  ]);\n\n\n  const preparedPosts = posts.map((post: Post) => {\n    return {\n      ...post,\n      user: users.find((user: User) => user.id === post.userId),\n      comments: comments.filter((comment: Comment) => comment.postId === post.id),\n    };\n  });\n\n  return preparedPosts;\n};\n","import React from 'react';\n\ninterface Props {\n  text: string;\n  className: string;\n  handleClick: () => void;\n}\n\nexport const Button: React.FC<Props> = ({\n  text,\n  className,\n  handleClick,\n}) => (\n  <button type=\"button\" className={className} onClick={handleClick}>\n    {text}\n  </button>\n);\n","import React from 'react';\n\ninterface Props {\n  id: number;\n  postId: number;\n  name: string;\n  email: string;\n  body: string;\n}\n\nexport const CommentItem: React.FC<Props> = ({\n  id,\n  postId,\n  name,\n  email,\n  body,\n}) => (\n  <div className=\"box is-italic is-margin-vertical\" id={`${postId}-${id}`}>\n    <strong>{name}</strong>\n    {' '}\n    <small>{email}</small>\n    <p>\n      {body}\n    </p>\n  </div>\n);\n","import React from 'react';\nimport { Comment } from '../Interface';\nimport { CommentItem } from './CommentItem';\n\ninterface Props {\n  comments: Comment[];\n}\n\nexport const CommentList: React.FC<Props> = ({ comments }) => (\n  <ul>\n    {comments.map((comment) => (\n      <li key={comment.id}>\n        <CommentItem {...comment} />\n      </li>\n    ))}\n  </ul>\n);\n","import React from 'react';\nimport { User, Comment } from '../Interface';\nimport { CommentList } from '../Comments';\n\ninterface Props {\n  id: number;\n  title: string;\n  body: string;\n  user: User;\n  comments: Comment[];\n}\n\nexport const PostItem: React.FC<Props> = ({\n  id,\n  title,\n  body,\n  user,\n  comments,\n}) => (\n  <article className=\"message is-primary\" id={`${id}`}>\n    <div className=\"message-header\">\n      <h1 className=\"title has-text-white is-capitalized is-4\">\n        {title}\n      </h1>\n    </div>\n    <div className=\"message-body\">\n      <h2 className=\"subtitle\">\n        {`Author: ${user.username}`}\n      </h2>\n      {body}\n      <CommentList comments={comments} />\n    </div>\n  </article>\n);\n","import React from 'react';\nimport { Post } from '../Interface';\nimport { PostItem } from './PostItem';\n\ninterface Props {\n  posts: Post[];\n}\n\nexport const PostList: React.FC<Props> = ({ posts }) => (\n  <div>\n    {posts.map((post) => (\n      <PostItem {...post} key={post.id} />\n    ))}\n  </div>\n);\n","import React, { Component } from 'react';\nimport { StateSearch } from '../Interface';\n\ninterface Props {\n  setSearchQuery: (query: string) => void;\n}\n\nexport class Search extends Component<Props> {\n  state: StateSearch = {\n    searchQuery: '',\n  };\n\n  // eslint-disable-next-line react/sort-comp\n  handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  debounce = (f: Function, delay: number) => {\n    let timerId: any;\n\n    const debounced = () => {\n      clearTimeout(timerId);\n      timerId = setTimeout(f, delay);\n    };\n\n    return debounced;\n  };\n\n  sendQuery = () => {\n    const { setSearchQuery } = this.props;\n    const { searchQuery } = this.state;\n\n    setSearchQuery(searchQuery);\n  };\n\n  wrapper = this.debounce(this.sendQuery, 1000);\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <div className=\"field\">\n        <div className=\"control\">\n          <input\n            className=\"input is-primary\"\n            type=\"text\"\n            placeholder=\"Input text\"\n            value={searchQuery}\n            onChange={e => {\n              this.handleInputChange(e);\n              this.wrapper();\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { preparePosts } from './api';\nimport { StateApp } from './components/Interface';\nimport { Button } from './components/Button';\nimport { PostList } from './components/PostList';\nimport { Search } from './components/Search';\n\nclass App extends Component {\n  state: StateApp = {\n    posts: [],\n    isLoading: false,\n    isLoaded: false,\n    hasError: false,\n    searchQuery: '',\n  };\n\n  loadPosts = async () => {\n    this.setState({\n      isLoading: true,\n      hasError: false,\n    });\n\n    try {\n      const data = await preparePosts();\n\n      this.setState({\n        posts: data,\n        isLoaded: true,\n      });\n    } catch {\n      this.setState({\n        hasError: true,\n      });\n    }\n\n    this.setState({ isLoading: false });\n  };\n\n  setSearchQuery = (query: string) => {\n    this.setState({\n      searchQuery: query\n        .trim()\n        .toLocaleLowerCase()\n        .replace(/\\s/g, ' '),\n    });\n  };\n\n  searchPosts = () => {\n    const { posts, searchQuery } = this.state;\n    const filteredPosts = posts.filter(post => {\n      const content = `${post.title} ${post.body}`\n        .toLocaleLowerCase()\n        .replace(/\\s/g, ' ');\n\n      return content.includes(searchQuery);\n    });\n\n    return filteredPosts;\n  };\n\n  render() {\n    const {\n      isLoading,\n      isLoaded,\n      hasError,\n    } = this.state;\n\n    const searchedPosts = this.searchPosts();\n\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <h1 className=\"title is-1\">Dynamic List of Posts</h1>\n          {!isLoading && !isLoaded && !hasError && (\n            <Button\n              text=\"Load Posts\"\n              className=\"button\"\n              handleClick={this.loadPosts}\n            />\n          )}\n          {isLoading && (\n            <progress className=\"progress is-primary\" max=\"100\">\n              Loading...\n            </progress>\n          )}\n          {hasError && (\n            <>\n              <div className=\"notification is-warning\">Something went wrong...</div>\n              <Button\n                text=\"Try Again\"\n                className=\"button\"\n                handleClick={this.loadPosts}\n              />\n            </>\n          )}\n          {isLoaded && (\n            <>\n              <Search setSearchQuery={this.setSearchQuery} />\n              <PostList posts={searchedPosts} />\n            </>\n          )}\n          {isLoaded && !searchedPosts.length && (\n            <div className=\"notification is-warning\">Posts not found....</div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}